### DPKG  
#### Встановлення пакета  
Для встановлення .deb пакета використовується ключ -i:  
```
dpkg -i PACKAGE
```

**Список встановлених пакетів**
Що б переглянути встановлені пакети в системі, використовується ключ -l:

```
dpkg -l
```

Перевірити чи встановлений певний пакет:

```
dpkg -l PACKAGE
```

**Видалити пакет**
Для видалення .deb пакету використовується ключ -r (remove) з вказанням імені пакету.

```
dpkg -r PACKAGE
```

Ключ -r дозволяє видалити тільки сам пакет, щоб видалити пакет разом з файлами конфігурації, замість -r, використовується ключ -P (purge):

```
dpkg -P PACKAGE
```

**Перегляд вмісту пакету**
Що б побачити вміст пакету, використовується ключ -c (content):

```
dpkg -c PACKAGE
```

**Перевірка чи встановлений пакет**
Для цього використовується ключ -s (status)

```
dpkg -s PACKAGE
```

Куди встановлено файли пакету
Що б переглянути куди встановлено пакет, використовується ключ -L:

1

dpkg -L PACKAGE

Встановити всі пакети з конкретної папки
Що б рекурсивно обійти всі папки, та встановити всі \*.deb пакети, використовуються ключі -R и --install.

1

dpkg -R --install dir/

Розпакувати пакет, не конфігуруючи і не встановлюючи його
Для розпакування пакету використовується опція --unpack, при цьому, не буде виконуватись конфігурація або встановлення:

1

dpkg --unpack PACKAGE

Конфігурація розпакованого пакету
Опція --сonfigure виконає конфігурацію розпакованого пакету:

1

dpkg --configure PACKAGE

Оновити інформацію про пакет
Опція --update-avail оновлює застарілу інформацію про доступність пакету в репозиторії:

1

dpkg --update-avail PACKAGE

Видалення інформації про доступність пакету
Опція --clear-avaial видалить поточну інформацію про доступність пакетів

1

dpkg --clear-avail

Забути старі та видалені пакети
Що б система забула про старі та видалені пакети, існує опція --forget-old-unavail:

1

dpkg --forget-old-unavail

APT-GET i APT-CACHE
Список доступних пакетів
Показати всі доступні пакети в системі:

1

apt-cache pkgnames

Щоб можна було листати список можна скористатись утидітою more:

1

apt-cache pkgnames | more

Пошук пакета з описом
Отримати список пакетів з коротким описом:

1

apt-cache search PACKAGE

Отримати інформацію про пакет
Якщо потрібно перевірити інформацію про пакет, наприклад версію, контрольні суми, розміри до і після встановлення, можна використати команду show:

1

apt-cache show PACKAGE

Інформація про залежності пакету

Для отримання інформації про прямі та зворотні залежності пакету, використовуємо команду showpkg з іменем потрібного пакету:

1

apt-cache showpkg PACKAGE

Статистика кешу пакетів
Команда stats покаже загальну статистику кешу пакетів.

1

apt-cache stats

Оновлення списку пакетів
Для повторної синхронізації файлів індексу пакетів з їх репозиторіїв, вказаних в файлі /etc/apt/sources.list, використовується команда apt-get з ключем update.

1

apt-get update

Оновлення встановлених пакетів
Команда upgrade використовується для оновлення встановлених в системі пакетів. Перед цією дією потрібно виконати apt-get update, що б система мала актуальні данні про нові пакети в репозиторії.

1

apt-get upgrade

Встановлення та оновлення пакетів
Для оновлення та встановлення пакетів використовується команда install з вказанням імені пакету(ів) .

1

apt-get install pkg1 pkg2

Встановлення декількох пакетів по масці
Можна встановити декілька пакетів, використовуючи маску "\*":

1

apt-get install '_name_'

Встановлення пакету без оновлення
Що б помішати оновленню, пакету що вже встановлений в системі можна використовувати ключ --no-upgrade

1

apt-get install pkg_name --no-upgrade

Оновлення конкретних пакетів
При вказанні ключа --only-upgrade, apt-get оновить тільки встановлені пакети

1

apt-get install pkg_name --only-upgrade

Встановити пакет певної версії
Что-бы установить пакет только определенной версии, укажите имя пакета и версию, разделив их знакомЩо б встановити пакет тільки певної версії, після імені пакету, потрібно вказати потрібну версію розділені символом "="

1

apt-get install PACKAGE=2.3.5-3

Видалити пакет залишивши файли конфігурації
Що б залишити файли конфігурації при видаленні, потрібно використовувати remove:

1

apt-get remove PACKAGE

Повністю видалити пакет
Для видалення пакету з конфігураціями, використовується команда purge:

1

apt-get purge PACKAGE

Також можна комбінувати remove і purge в одній команді:

1

apt-get remove --purge PACKAGE

Звільнити місце на диску
Видалити викачані при встановленні deb пакети:

1

apt-get clean

Скачати тільки вихідний код пакету
Для скачування вихідного коду пакету, використовується ключ --download-only source з іменем потрібного пакету:

1

apt-get --download-only source PACKAGE

Скачати вихідний код і розпакувати
Що б скачати та розпакувати вихідний код використовується команда:

1

apt-get source PACKAGE

Скачати, розпакувати та скомпілювати пакет
Можна скачати, розпакувати та скомпілювати пакет однією командою:

1

apt-get --compile source PACKAGE

Скачати пакет без встановлення
Для скачування пакету без встановлення використовується команда download і імʼя пакету:

1

apt-get download PACKAGE

Що змінилось в пакеті
Що б побачити changelog використовується команда changelog:

1

apt-get changelog PACKAGE

Перевірити зламані залежності
Для перевірки зламаних залежностей, використовується команда check:

1

apt-get check PACKAGE

Знайти і встановити залежності пакетів
Знайти і встановити залежності пакету можна за допомогою команди build-dep, apt-get перегляне локальний кеш, та встановить необхідні залежності:

1

apt-get build-dep PACKAGE

Автоматично очистити кеш
Команда autoclean видаляє всі deb файли в папці /var/cache/apt/archives тим самим звільняє місце:

1

apt-get autoclean

Автоматично видалити лишні пакети
Команда autoremove видаляє пакети, що були встановлені, як залежності інших пакетів, і в даний момент не використовуються:

1

apt-get autoremove PACKAGE

RPM
Перевірка GPG підпису
Бажано завжди перевіряти gpg підпис пакету перед його встановленням що б удостовіритись в його автентичності.

1

rpm --checksig PACKAGE

Встановлення rpm пакету
Для встановлення rpm пакету використовується ключ -i:

1

rpm -ivh PACKAGE

Перевірити залежності перед встановленням
Подивитись список залежностей пакету можна так:

1

rpm -qpR PACKAGE

Встановлення пакетів без залежностей
Якщо впевнений, що всі залежності встановлено, то можна встановити пакет без перевірки залежностей:

1

rpm -ivh --nodeps PACKAGE

Перевірити чи встановлено пакет
Перевірити чи встановлено певний пакет в системі.

1

rpm -q PACKAGE

Показати файли встановленого пакету
Показати список файлів, що відносяться до встановленого пакету

1

rpm -ql PACKAGE

Список останніх встановлених пакетів

1

rpm -qa --last

Показати всі встановлені пакети
Показати список встановлених в системі пакетів

1

rpm -qa

Оновлення rpm пакету
Для оновлення пакету треба використовувати параметр -U - це дозволить оновити пакет, та створити резервну копію попередньої версії.

1

rpm -Uvh PACKAGE

Видалення rpm пакету
Для видаленяя пакету використовується опція -e (erase), опція vv використовується для детального виводу інформації.

1

rpm -evv PACKAGE

Видалення rpm пакету без залежностей
Параметр --nodeps насильно видаляє rpm пакет з системи.

1

rpm -ev --nodeps PACKAGE

Дослідити файли пакету
Якщо потрібно дізнатись якому пакету належить файл, використовується параметр -qf (query file):

1

rpm -qf /etc/my.cnf

Отримати інформацію про встановлений пакет
Що б отримати детальну інформацію про встановлений пакет, використовується опція -qi (query info):

1

rpm -qi PACKAGE

Отримати інформацію про не встановлений пакет
Отримати інформацію про скачаний, але ще не встановлений пакет, використовується опція -qip (query info package):

1

rpm -qip ./pachage_name.rpm

Показати файли документації певного пакету
Запит -qdf (query document file) покаже всі файли документації для певного пакету

1

rpm -qdf PACKAGE/PATH

Перевірка rpm пакету
При перевірці пакету зрівнюються встановлені файли з базою даних rpm.

1

rpm -Vp PACKAGE

Перевірка всіх rpm пакетів

1

rpm -Va

Імпорт GPG ключа
Для перевірки RHEL/CentOS/Fedora, потрібно імпортувати GPG ключ.

1

rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7

Показати імпортовані ключі

1

rpm -qa gpg-pubkey\*

Перебудувати пошкоджену базу даних rpm
Деколи база даних rpm може бути пошкоджена, при цьому rpm не може нормально функціонувати.Потрібно перебудувати базу даних rpm:

1

cd /var/lib/rpm

2

rm -f \_\_db.\*

3

rpm --rebuilddb

YUM
Встановлення пакету
Що б встановити пакет, потрібно виконати команду

1

yum install PACKAGE

Що б автоматично підтвердити встановлення, використовується ключ -y:

1

yum -y install PACKAGE

Видалення пакетів
Для видалення пакетів використовується команда:

1

yum remove PACKAGE

Оновлення пакетів
Для оновлення пакетів в yum, використовується опція update.

1

yum update PACKAGE

Перевірка пакетів по імені
Для перевірки пакетів служить команда list, перевіряти можна декілька пакетів:

1

yum list PACKAGE1 PACKAGE2

Пошук пакетів
Для пошуку пакетів використовується команда search:

1

yum search PACKAGE

За допомогою опції search all, можна також шукати по назві в описі пакетів.

1

yum search all PACKAGE

Інформація про пакет
Що б побачити детальну інформацію про пакет, можна використовувати опцію info:

1

yum info PACKAGE

Список доступних пакетів
Отримати список доступних для встановлення пакетів:

1

yum list available

Список встановлених пакетів
Що б вивести список встановлених пакетів, використовується команда:

1

yum list installed

З якого пакету файл
Дізнатись якому пакету належить файл, можна за допомогою команди provides:

1

yum provides /PATH/TO/FILE

Перевірка оновлень
Побачити пакети, для яких є доступні оновлення, можна за допомогою команди check-update:

1

yum check-update

Оновлення системи
Для оновлення всіх пакетів та системи, використовується команда:

1

yum update

Список доступних груп пакетів
Для зручності пакети можна обʼєднувати в групи. Для перегляду груп, використовується команда:

1

yum grouplist

Вміст групи
Для перегляду вмісту групи, використовується команда:

1

yum groupinfo "Basic Web Server"

Встановлення групи пакетів
Для встановлення певної групи пакетів, використовується команда groupinstall:

1

yum groupinstall 'GROUP NAME'

Оновлення групи пакетів

1

yum groupupdate "GROUP NAME"

Видалення групи пакетів

1

yum groupremove "GROUP NAME"

Список репозиторіїв
Що б побачити список репозиторіїв, використовується команда:

1

yum repolist

Що б побачити список включених та виключених репозиторіїв, використовується команда:

1

yum repolist all

Встановлення пакету з певного репозиторію
Що б використовувати певний репозиторій для встановлення пакету, використовується опція --enablerepo, в даному прикладі буде використано репозиторій epel:

1

yum --enablerepo=epel install PACKAGE

Інтерактивна оболонка yum
В оболонці можна виконувати всі команди yum:

1

yum shell

Очистка кешу репозиторіїв
Кеш зберігається в /var/cache/yum/ARCH/VER/repo_name, що б очистити кеш, та звільнити місце в системі, потрібно виконати команду :

1

yum clean all

Історія операцій yum
Для перегляду історії операцій yum, потрібно виконати команду:

1

yum history
